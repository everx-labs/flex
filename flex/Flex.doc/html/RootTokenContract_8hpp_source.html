<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Flex: RootTokenContract.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Flex
   </div>
   <div id="projectbrief">Flex exchange system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6ec4448c0aad6f299270288fc304f022.html">tokens</a></li><li class="navelem"><a class="el" href="dir_643402d04306d49ea9c15c1bfc84d68c.html">fungible</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">RootTokenContract.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="RootTokenContract_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TONTokenWallet_8hpp.html">TONTokenWallet.hpp</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">namespace </span>tvm {</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">static</span> constexpr <span class="keywordtype">unsigned</span> ROOT_TIMESTAMP_DELAY = 1800;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using</span> root_replay_protection_t = replay_attack_protection::timestamp&lt;ROOT_TIMESTAMP_DELAY&gt;;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// ===== Root Token Contract ===== //</span></div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html">   24</a></span>&#160;<span class="comment"></span>__interface <a class="code" href="structtvm_1_1IRootTokenContract.html">IRootTokenContract</a> {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  [[<span class="keyword">internal</span>, external]]</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a6217a96e2ad518449116ce08b4d7ff10">   29</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structtvm_1_1IRootTokenContract.html#a6217a96e2ad518449116ce08b4d7ff10">constructor</a>(</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordtype">string</span>      name,        </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordtype">string</span>      symbol,      </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    uint8       decimals,    </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    uint256     root_pubkey, </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    address_opt root_owner,  </div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    uint128     total_supply </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  ) = 10;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  [[<span class="keyword">internal</span>, external, answer_id]]</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#ad08ac49c7e8c17023021cfe5b89568f3">   45</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structtvm_1_1IRootTokenContract.html#ad08ac49c7e8c17023021cfe5b89568f3">setWalletCode</a>(cell wallet_code) = 11;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  [[<span class="keyword">internal</span>, external, answer_id]]</div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#abc37c57a82a25d599bdc1c1ea981f6a5">   51</a></span>&#160;  address <a class="code" href="structtvm_1_1IRootTokenContract.html#abc37c57a82a25d599bdc1c1ea981f6a5">deployWallet</a>(</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    uint256     pubkey, </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    address_opt owner,  </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    uint128     tokens, </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    uint128     evers,  </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    opt&lt;cell&gt;   notify  </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  ) = 12;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  [[<span class="keyword">internal</span>, answer_id]]</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a9a0ce937d7dd9c43dc0c139af521c92c">   62</a></span>&#160;  address <a class="code" href="structtvm_1_1IRootTokenContract.html#a9a0ce937d7dd9c43dc0c139af521c92c">deployEmptyWallet</a>(</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    uint256     pubkey,  </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    address_opt owner,   </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    uint128     evers    </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  ) = 13;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  [[<span class="keyword">internal</span>, external, answer_id]]</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a406b2f7546ad567efbb102fcea812399">   73</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structtvm_1_1IRootTokenContract.html#a406b2f7546ad567efbb102fcea812399">grant</a>(</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    address   dest,   </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    uint128   tokens, </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    uint128   evers,  </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    opt&lt;cell&gt; notify  </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  ) = 14;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  [[<span class="keyword">internal</span>, external, answer_id]]</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a66ad342fdab91341b4aa6ae5691a8518">   84</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structtvm_1_1IRootTokenContract.html#a66ad342fdab91341b4aa6ae5691a8518">mint</a>(uint128 tokens) = 15;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  [[<span class="keyword">internal</span>, answer_id]]</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a07b9992e7029c3d6330f8bf5f7749ed7">   88</a></span>&#160;  uint128 <a class="code" href="structtvm_1_1IRootTokenContract.html#a07b9992e7029c3d6330f8bf5f7749ed7">requestTotalGranted</a>() = 16;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  [[getter]]</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a11335e13e50af74108bf926dc1340b4b">   92</a></span>&#160;  <span class="keywordtype">string</span> <a class="code" href="structtvm_1_1IRootTokenContract.html#a11335e13e50af74108bf926dc1340b4b">getName</a>() = 17;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  [[getter]]</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a6c83c8a8b83b403756d0acf74329e300">   96</a></span>&#160;  <span class="keywordtype">string</span> <a class="code" href="structtvm_1_1IRootTokenContract.html#a6c83c8a8b83b403756d0acf74329e300">getSymbol</a>() = 18;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  [[getter]]</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a39246439c2b0c167ddd9dbadfbda08d9">  100</a></span>&#160;  uint8 <a class="code" href="structtvm_1_1IRootTokenContract.html#a39246439c2b0c167ddd9dbadfbda08d9">getDecimals</a>() = 19;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  [[getter]]</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a0ede3b8efce3aac68576a39c822e065e">  104</a></span>&#160;  uint256 <a class="code" href="structtvm_1_1IRootTokenContract.html#a0ede3b8efce3aac68576a39c822e065e">getRootKey</a>() = 20;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  [[getter]]</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a85c78cf255c24e944be72f559b344824">  108</a></span>&#160;  address_opt <a class="code" href="structtvm_1_1IRootTokenContract.html#a85c78cf255c24e944be72f559b344824">getRootOwner</a>() = 21;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  [[getter]]</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a5825cb1382442103c7f5ea9d0fdb19e6">  112</a></span>&#160;  uint128 <a class="code" href="structtvm_1_1IRootTokenContract.html#a5825cb1382442103c7f5ea9d0fdb19e6">getTotalSupply</a>() = 22;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  [[getter]]</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a516727a3980d1a5a825ea0e890487b1d">  116</a></span>&#160;  uint128 <a class="code" href="structtvm_1_1IRootTokenContract.html#a516727a3980d1a5a825ea0e890487b1d">getTotalGranted</a>() = 23;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  [[getter]]</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a0b257aff061f20b5e2b1bef241abb39a">  120</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structtvm_1_1IRootTokenContract.html#a0b257aff061f20b5e2b1bef241abb39a">hasWalletCode</a>() = 24;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  [[getter]]</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a7151e2726bc107d0718066061a037485">  124</a></span>&#160;  cell <a class="code" href="structtvm_1_1IRootTokenContract.html#a7151e2726bc107d0718066061a037485">getWalletCode</a>() = 25;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  [[getter]]</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a3cb2a6e4c67da6b93c794478da849fc3">  128</a></span>&#160;  address <a class="code" href="structtvm_1_1IRootTokenContract.html#a3cb2a6e4c67da6b93c794478da849fc3">getWalletAddress</a>(</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    uint256     pubkey, </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    address_opt owner   </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  ) = 26;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  [[getter]]</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structtvm_1_1IRootTokenContract.html#a7341c650d48773e45c0e1bf0cdd18ed2">  135</a></span>&#160;  uint256 <a class="code" href="structtvm_1_1IRootTokenContract.html#a7341c650d48773e45c0e1bf0cdd18ed2">getWalletCodeHash</a>() = 27;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;};</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="keyword">using</span> IRootTokenContractPtr = handle&lt;IRootTokenContract&gt;;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structtvm_1_1DRootTokenContract.html">  140</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtvm_1_1DRootTokenContract.html">DRootTokenContract</a> {</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="structtvm_1_1DRootTokenContract.html#a79cfd788b219a7f48068d0e96e5e8e77">  141</a></span>&#160;  <span class="keywordtype">string</span>      <a class="code" href="structtvm_1_1DRootTokenContract.html#a79cfd788b219a7f48068d0e96e5e8e77">name_</a>;          </div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="structtvm_1_1DRootTokenContract.html#a20d428844b08cca10fa752393579a4b7">  142</a></span>&#160;  <span class="keywordtype">string</span>      <a class="code" href="structtvm_1_1DRootTokenContract.html#a20d428844b08cca10fa752393579a4b7">symbol_</a>;        </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="structtvm_1_1DRootTokenContract.html#ae08659a927bf720033550d859939fc47">  143</a></span>&#160;  uint8       <a class="code" href="structtvm_1_1DRootTokenContract.html#ae08659a927bf720033550d859939fc47">decimals_</a>;      </div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="structtvm_1_1DRootTokenContract.html#a2f81a98fe1954d0b8ceef293bce0a610">  144</a></span>&#160;  uint256     <a class="code" href="structtvm_1_1DRootTokenContract.html#a2f81a98fe1954d0b8ceef293bce0a610">root_pubkey_</a>;   </div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="structtvm_1_1DRootTokenContract.html#a6b3676cf4f6738ee83ea2d5affa55866">  145</a></span>&#160;  address_opt <a class="code" href="structtvm_1_1DRootTokenContract.html#a6b3676cf4f6738ee83ea2d5affa55866">root_owner_</a>;    </div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="structtvm_1_1DRootTokenContract.html#a57ac305f88deea9afcaf8991d159db13">  146</a></span>&#160;  uint128     <a class="code" href="structtvm_1_1DRootTokenContract.html#a57ac305f88deea9afcaf8991d159db13">total_supply_</a>;  </div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structtvm_1_1DRootTokenContract.html#ad3c1177c911e65d0527d235ca8094b15">  147</a></span>&#160;  uint128     <a class="code" href="structtvm_1_1DRootTokenContract.html#ad3c1177c911e65d0527d235ca8094b15">total_granted_</a>; </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structtvm_1_1DRootTokenContract.html#af2348c6f78543b2ac986af3b6f0c4d5c">  148</a></span>&#160;  optcell     <a class="code" href="structtvm_1_1DRootTokenContract.html#af2348c6f78543b2ac986af3b6f0c4d5c">wallet_code_</a>;   </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;};</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structtvm_1_1ERootTokenContract.html">  153</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structtvm_1_1ERootTokenContract.html">ERootTokenContract</a> {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;};</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="structtvm_1_1preparer_3_01IRootTokenContract_00_01DRootTokenContract_01_4.html">  158</a></span>&#160;<span class="keyword">struct </span>preparer&lt;<a class="code" href="structtvm_1_1IRootTokenContract.html">IRootTokenContract</a>, <a class="code" href="structtvm_1_1DRootTokenContract.html">DRootTokenContract</a>&gt; {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  __always_inline</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keyword">static</span> std::pair&lt;StateInit, uint256&gt; execute(<a class="code" href="structtvm_1_1DRootTokenContract.html">DRootTokenContract</a> root_data, cell root_code) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    cell root_data_cl =</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      prepare_persistent_data&lt;IRootTokenContract, root_replay_protection_t&gt;(</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        root_replay_protection_t::init(), root_data);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    StateInit root_init { {}, {}, root_code, root_data_cl, {} };</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    cell root_init_cl = build(root_init).make_cell();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> { root_init, uint256(tvm_hash(root_init_cl)) };</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;};</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;} <span class="comment">// namespace tvm</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="ttc" id="aTONTokenWallet_8hpp_html"><div class="ttname"><a href="TONTokenWallet_8hpp.html">TONTokenWallet.hpp</a></div><div class="ttdoc">TONTokenWallet contract interfaces and data-structs.</div></div>
<div class="ttc" id="astructtvm_1_1DRootTokenContract_html"><div class="ttname"><a href="structtvm_1_1DRootTokenContract.html">tvm::DRootTokenContract</a></div><div class="ttdoc">RootTokenContract persistent data struct.</div><div class="ttdef"><b>Definition:</b> RootTokenContract.hpp:140</div></div>
<div class="ttc" id="astructtvm_1_1DRootTokenContract_html_a20d428844b08cca10fa752393579a4b7"><div class="ttname"><a href="structtvm_1_1DRootTokenContract.html#a20d428844b08cca10fa752393579a4b7">tvm::DRootTokenContract::symbol_</a></div><div class="ttdeci">string symbol_</div><div class="ttdoc">Token short symbol.</div><div class="ttdef"><b>Definition:</b> RootTokenContract.hpp:142</div></div>
<div class="ttc" id="astructtvm_1_1DRootTokenContract_html_a2f81a98fe1954d0b8ceef293bce0a610"><div class="ttname"><a href="structtvm_1_1DRootTokenContract.html#a2f81a98fe1954d0b8ceef293bce0a610">tvm::DRootTokenContract::root_pubkey_</a></div><div class="ttdeci">uint256 root_pubkey_</div><div class="ttdoc">Root public key.</div><div class="ttdef"><b>Definition:</b> RootTokenContract.hpp:144</div></div>
<div class="ttc" id="astructtvm_1_1DRootTokenContract_html_a57ac305f88deea9afcaf8991d159db13"><div class="ttname"><a href="structtvm_1_1DRootTokenContract.html#a57ac305f88deea9afcaf8991d159db13">tvm::DRootTokenContract::total_supply_</a></div><div class="ttdeci">uint128 total_supply_</div><div class="ttdoc">Total supply of allocated tokens (in the pool).</div><div class="ttdef"><b>Definition:</b> RootTokenContract.hpp:146</div></div>
<div class="ttc" id="astructtvm_1_1DRootTokenContract_html_a6b3676cf4f6738ee83ea2d5affa55866"><div class="ttname"><a href="structtvm_1_1DRootTokenContract.html#a6b3676cf4f6738ee83ea2d5affa55866">tvm::DRootTokenContract::root_owner_</a></div><div class="ttdeci">address_opt root_owner_</div><div class="ttdoc">Root internal owner (owner contract).</div><div class="ttdef"><b>Definition:</b> RootTokenContract.hpp:145</div></div>
<div class="ttc" id="astructtvm_1_1DRootTokenContract_html_a79cfd788b219a7f48068d0e96e5e8e77"><div class="ttname"><a href="structtvm_1_1DRootTokenContract.html#a79cfd788b219a7f48068d0e96e5e8e77">tvm::DRootTokenContract::name_</a></div><div class="ttdeci">string name_</div><div class="ttdoc">Token name.</div><div class="ttdef"><b>Definition:</b> RootTokenContract.hpp:141</div></div>
<div class="ttc" id="astructtvm_1_1DRootTokenContract_html_ad3c1177c911e65d0527d235ca8094b15"><div class="ttname"><a href="structtvm_1_1DRootTokenContract.html#ad3c1177c911e65d0527d235ca8094b15">tvm::DRootTokenContract::total_granted_</a></div><div class="ttdeci">uint128 total_granted_</div><div class="ttdoc">Total granted tokens (to the wallets).</div><div class="ttdef"><b>Definition:</b> RootTokenContract.hpp:147</div></div>
<div class="ttc" id="astructtvm_1_1DRootTokenContract_html_ae08659a927bf720033550d859939fc47"><div class="ttname"><a href="structtvm_1_1DRootTokenContract.html#ae08659a927bf720033550d859939fc47">tvm::DRootTokenContract::decimals_</a></div><div class="ttdeci">uint8 decimals_</div><div class="ttdoc">Decimals for ui purposes. ex: balance 100 with decimals 2 will be printed as 1.00.</div><div class="ttdef"><b>Definition:</b> RootTokenContract.hpp:143</div></div>
<div class="ttc" id="astructtvm_1_1DRootTokenContract_html_af2348c6f78543b2ac986af3b6f0c4d5c"><div class="ttname"><a href="structtvm_1_1DRootTokenContract.html#af2348c6f78543b2ac986af3b6f0c4d5c">tvm::DRootTokenContract::wallet_code_</a></div><div class="ttdeci">optcell wallet_code_</div><div class="ttdoc">Token wallet code.</div><div class="ttdef"><b>Definition:</b> RootTokenContract.hpp:148</div></div>
<div class="ttc" id="astructtvm_1_1ERootTokenContract_html"><div class="ttname"><a href="structtvm_1_1ERootTokenContract.html">tvm::ERootTokenContract</a></div><div class="ttdoc">RootTokenContract events interface.</div><div class="ttdef"><b>Definition:</b> RootTokenContract.hpp:153</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html">tvm::IRootTokenContract</a></div><div class="ttdoc">Tip3 token root contract interface. RootTokenContract is a root contract for tip3 token.</div><div class="ttdef"><b>Definition:</b> RootTokenContract.hpp:24</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a07b9992e7029c3d6330f8bf5f7749ed7"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a07b9992e7029c3d6330f8bf5f7749ed7">tvm::IRootTokenContract::requestTotalGranted</a></div><div class="ttdeci">uint128 requestTotalGranted()</div><div class="ttdoc">Request total granted value to be called from other contracts.</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a0b257aff061f20b5e2b1bef241abb39a"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a0b257aff061f20b5e2b1bef241abb39a">tvm::IRootTokenContract::hasWalletCode</a></div><div class="ttdeci">bool hasWalletCode()</div><div class="ttdoc">Is wallet code already initialized (by IRootTokenContract::setWalletCode())</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a0ede3b8efce3aac68576a39c822e065e"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a0ede3b8efce3aac68576a39c822e065e">tvm::IRootTokenContract::getRootKey</a></div><div class="ttdeci">uint256 getRootKey()</div><div class="ttdoc">Get public key of the Root.</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a11335e13e50af74108bf926dc1340b4b"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a11335e13e50af74108bf926dc1340b4b">tvm::IRootTokenContract::getName</a></div><div class="ttdeci">string getName()</div><div class="ttdoc">Get token name.</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a39246439c2b0c167ddd9dbadfbda08d9"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a39246439c2b0c167ddd9dbadfbda08d9">tvm::IRootTokenContract::getDecimals</a></div><div class="ttdeci">uint8 getDecimals()</div><div class="ttdoc">Get token decimals.</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a3cb2a6e4c67da6b93c794478da849fc3"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a3cb2a6e4c67da6b93c794478da849fc3">tvm::IRootTokenContract::getWalletAddress</a></div><div class="ttdeci">address getWalletAddress(uint256 pubkey, address_opt owner)</div><div class="ttdoc">Calculate wallet address using (pubkey, owner) pair.</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a406b2f7546ad567efbb102fcea812399"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a406b2f7546ad567efbb102fcea812399">tvm::IRootTokenContract::grant</a></div><div class="ttdeci">void grant(address dest, uint128 tokens, uint128 evers, opt&lt; cell &gt; notify)</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a516727a3980d1a5a825ea0e890487b1d"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a516727a3980d1a5a825ea0e890487b1d">tvm::IRootTokenContract::getTotalGranted</a></div><div class="ttdeci">uint128 getTotalGranted()</div><div class="ttdoc">Get total granted tokens.</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a5825cb1382442103c7f5ea9d0fdb19e6"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a5825cb1382442103c7f5ea9d0fdb19e6">tvm::IRootTokenContract::getTotalSupply</a></div><div class="ttdeci">uint128 getTotalSupply()</div><div class="ttdoc">Get total supply (allocated tokens)</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a6217a96e2ad518449116ce08b4d7ff10"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a6217a96e2ad518449116ce08b4d7ff10">tvm::IRootTokenContract::constructor</a></div><div class="ttdeci">void constructor(string name, string symbol, uint8 decimals, uint256 root_pubkey, address_opt root_owner, uint128 total_supply)</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a66ad342fdab91341b4aa6ae5691a8518"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a66ad342fdab91341b4aa6ae5691a8518">tvm::IRootTokenContract::mint</a></div><div class="ttdeci">bool mint(uint128 tokens)</div><div class="ttdoc">Mint tokens. Allocates new tokens (increases total_supply_).</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a6c83c8a8b83b403756d0acf74329e300"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a6c83c8a8b83b403756d0acf74329e300">tvm::IRootTokenContract::getSymbol</a></div><div class="ttdeci">string getSymbol()</div><div class="ttdoc">Get token symbol.</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a7151e2726bc107d0718066061a037485"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a7151e2726bc107d0718066061a037485">tvm::IRootTokenContract::getWalletCode</a></div><div class="ttdeci">cell getWalletCode()</div><div class="ttdoc">Get wallet code.</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a7341c650d48773e45c0e1bf0cdd18ed2"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a7341c650d48773e45c0e1bf0cdd18ed2">tvm::IRootTokenContract::getWalletCodeHash</a></div><div class="ttdeci">uint256 getWalletCodeHash()</div><div class="ttdoc">Get wallet code hash.</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a85c78cf255c24e944be72f559b344824"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a85c78cf255c24e944be72f559b344824">tvm::IRootTokenContract::getRootOwner</a></div><div class="ttdeci">address_opt getRootOwner()</div><div class="ttdoc">Get owner contract address of the Root (optional)</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_a9a0ce937d7dd9c43dc0c139af521c92c"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#a9a0ce937d7dd9c43dc0c139af521c92c">tvm::IRootTokenContract::deployEmptyWallet</a></div><div class="ttdeci">address deployEmptyWallet(uint256 pubkey, address_opt owner, uint128 evers)</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_abc37c57a82a25d599bdc1c1ea981f6a5"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#abc37c57a82a25d599bdc1c1ea981f6a5">tvm::IRootTokenContract::deployWallet</a></div><div class="ttdeci">address deployWallet(uint256 pubkey, address_opt owner, uint128 tokens, uint128 evers, opt&lt; cell &gt; notify)</div></div>
<div class="ttc" id="astructtvm_1_1IRootTokenContract_html_ad08ac49c7e8c17023021cfe5b89568f3"><div class="ttname"><a href="structtvm_1_1IRootTokenContract.html#ad08ac49c7e8c17023021cfe5b89568f3">tvm::IRootTokenContract::setWalletCode</a></div><div class="ttdeci">bool setWalletCode(cell wallet_code)</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
